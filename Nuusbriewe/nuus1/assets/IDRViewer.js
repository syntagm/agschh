var IDRViewer=function(){var w={View:{MultiFile:0,SplitSpreads:1,SingleFile:2,IDR:3}},l=1,v=0,x=0,d=0,p=0,ra=0,f,m,r,q,R=[],ba,B,ia=!0,sa,F,n=w.View,H=n.MultiFile,A,D,ca,S,da,ta,K,ea,ja,fa,G,L,ua,va,wa,xa,ka,T,U,V,la,ya,za,M={},t;w.makeNavBar=function(a,b,c,e){ba=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);/iPhone|iPad|iPod/i.test(navigator.userAgent);F=!e;t=c;m=h("contentContainer");r=h("mainContent");p=a;h("pgCount").innerHTML="/"+p;A=h("goBtn");D=
h("zoomBtn");ca=h("btnFullscreen");S=h("btnOutlines");da=h("btnThumbnails");ta=h("btnPrev");h("btnNext");K=h("btnMove");ea=h("btnSelect");ja=h("btnZoomIn");fa=h("btnZoomOut");T=0;U=1;L=0;ua=1;va=2;wa=3;xa=4;B=ka=5;f=h("jpedal");N.setup(t,b);document.fullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled?(W("fullscreenchange",document,ma),W("MSFullscreenChange",document,ma),W("mozfullscreenchange",document,ma),W("webkitfullscreenchange",document,
ma)):ca.parentNode.removeChild(ca);this.setSelectMode(T);a=Ba("page");a=""!=a?parseInt(a):1;if(ba){D.parentNode.removeChild(D);K.parentNode.removeChild(K);ea.parentNode.removeChild(ea);ja.parentNode.removeChild(ja);fa.parentNode.removeChild(fa);r.style.overflow="hidden";O.setup(a);var g=window.innerWidth,y=window.innerHeight;c=function(){setTimeout(function(){if(g!==window.innerWidth||y!==window.innerHeight)m.innerHTML="",l=1,g=window.innerWidth,y=window.innerHeight,O.setup(d)},300)};window.onorientationchange=
c;window.onresize=c}else{for(b=0;b<p;b++)if(c[b][0]!=c[0][0]||c[b][1]!=c[0][1]){ia=!1;break}ia&&!sa&&(G=document.createElement("select"),G.id="viewBtn",c=document.createElement("option"),c.text="Single Pages",G.appendChild(c),c=document.createElement("option"),c.text="Magazine",G.appendChild(c),c=document.createElement("option"),c.text="Continuous",G.appendChild(c),G.onchange=Ca,h("mainNav").appendChild(G),G.selectedIndex=H);M.setViewMode(H);ia&&H===n.SplitSpreads?P.setup(a):ia&&H===n.SingleFile?
X.setup(a):Y.setup(a);B=ka;D.selectedIndex=B;window.onresize=E}};var N=function(){var a={},b=[],c=0,e,g,y,f=!1,k=!1,u=!1,oa=!0;a.setup=function(a,c){g=h("leftContent");e=h("left");y=c;m(a);for(var d=0;d<p;d++)b[d]=!1;k=f=!1;W("scroll",g,Q);d=document.createElement("script");d.setAttribute("src","bookmarks/bookmarks.js");d.setAttribute("onload","IDRViewer.setBookmarks(bookmarks);");d.onreadystatechange=function(){"complete"==this.readyState&&IDRViewer.setBookmarks(bookmarks)};(document.head||document.getElementsByTagName("head")[0]).appendChild(d)};
a.toggleThumbnails=function(){f?(e.style.width="0",e.style.left="-20px"):(l(-1),e.style.width="200px",e.style.left="0",Q());f=!f};a.toggleOutlines=function(a){k&&!a?(h("thumbnailPanel").style.display="inline",h("outlinePanel").style.display="none",g.scrollTop=h("thumb"+d).getBoundingClientRect().top-80,k=!k,da.className="inactive navBtn",S.className="navBtn"):a&&"inactive navBtn"!=S.className&&(h("thumbnailPanel").style.display="none",h("outlinePanel").style.display="inline",k=!k,da.className="navBtn",
S.className="inactive navBtn")};var m=function(a){for(var b=[],c=0;c<p;c++){var d=Math.floor(160/a[c][0]*a[c][1]);b[c]=a[c][0]>a[c][1]||200>=d?d:200}for(a=1;a<=p;a++){var e=document.createElement("a");e.style.height=b[a-1]+"px";e.className="thumbnail";e.href="?page="+a;e.id="thumb"+a;(function(a){e.onclick=function(){oa=!1;IDRViewer.goToPage(a);return!1}})(a);e.setAttribute("title","Page "+a);e.innerHTML='<img src="assets/loading.gif"/>';g.children[0].appendChild(e)}},Q=function(a){var b=g.scrollTop;
c=b;setTimeout(function(){l(b)},500)},l=function(a){if(a==c||-1==a)for(a=0;a<p;a++)if(!b[a]){var d=g.children[0].children[a];if(d.offsetTop>g.scrollTop+g.clientHeight)break;d.offsetTop+d.clientHeight>g.scrollTop&&(d=a,b[d]||(g.children[0].children[d].children[0].setAttribute("src","thumbnails/"+(d+1)+y),b[d]=!0))}};a.scrollToPage=function(a,b){var c=h("thumb"+a);if("thumbnail currentPageThumbnail"!=c.className){for(var d=1;d<=p;d++)h("thumb"+d).className="thumbnail";c.className="thumbnail currentPageThumbnail";
oa&&(d=u?80:40,g.scrollTop=g.scrollTop+c.getBoundingClientRect().top-d)}"undefined"!=typeof b&&(h("thumb"+b).className="thumbnail currentPageThumbnail");oa=!0};a.setBookmarks=function(a){h("leftContent").style.top="40px";h("leftNav").style.display="block";n(h("outlinePanel"),a);k?da.className="navBtn":S.className="navBtn";u=!0};var n=function(a,b){for(var c=document.createElement("ul"),d=0;d<b.length;d++)(function(){var a=b[d],e=document.createElement("li");e.setAttribute("title","Page "+a.page);
e.innerHTML=a.title;e.onclick=function(){IDRViewer.goToPage(parseInt(a.page))};c.appendChild(e);"undefined"!=typeof a.children&&n(c,a.children)})();a.appendChild(c)};return a}(),Aa=function(){A.style.width="65px";A.innerHTML="";var a=document.createElement("option");a.value=1;a.innerHTML="1";A.appendChild(a);for(var b,c=2;c<=p;c+=2)a=document.createElement("option"),a.value=c,b=c!==p||1===p%2?String(c+"-"+(c+1)):String(c),a.innerHTML=b,A.appendChild(a);A.selectedIndex=d/2},pa=function(){A.innerHTML=
"";for(var a=1;a<=p;a++){var b=document.createElement("option");b.value=a;b.innerHTML=String(a);A.appendChild(b)}A.selectedIndex=d-1},C={applyTransform:function(a,b){a.style.webkitTransform=b;a.style.mozTransform=b;a.style.msTransform=b;a.style.oTransform=b;a.style.transform=b},applyTransformOrigin:function(a,b){a.style.webkitTransformOrigin=b;a.style.mozTransformOrigin=b;a.style.msTransformOrigin=b;a.style.oTransformOrigin=b;a.style.transformOrigin=b},applyTransitionDuration:function(a,b){a.style.webkitTransitionDuration=
b;a.style.mozTransitionDuration=b;a.style.msTransitionDuration=b;a.style.oTransitionDuration=b;a.style.transitionDuration=b}},P=function(){var a={},b,c,d,g,y;a.setup=function(c){q=n.SplitSpreads;Aa();v=t[0][0];x=t[0][1];b=v;window.onpopstate=function(b){a.goToPage(b.state.page,!1)};a.goToPage(c,!1)};a.goToPage=function(a,c){a>p&&(a=p);1!==a&&0!==a%2&&--a;f.parentNode.removeChild(f);g=d=void 0;M.setPage(a);var k=1<a&&a<p,Q=k?a+1:void 0;N.scrollToPage(a,Q);v=b;k&&(v*=2);m.style.width=v+"px";var n="container"+
a;A.selectedIndex=a/2;c&&window.history.pushState({page:a},null,"?page="+a);f=document.createElement("div");f.id=n;f.style.width=v+"px";m.appendChild(f);C.applyTransformOrigin(f,"top left");f.style.margin="0";E();if(F)d=document.createElement("object"),d.setAttribute("width",""+b),d.setAttribute("height",""+x),d.setAttribute("data",a+".svg"),d.setAttribute("type","image/svg+xml"),f.appendChild(d),E();else{var r=function(){y||(l(),y=!0);var c=document.createElement("iframe");c.setAttribute("src",a+
".html");c.setAttribute("style","width: "+b+"px; height: "+x+"px; position: absolute; border: 0;");c.onload=function(){d=c};f.appendChild(c)};$.ajax({url:a+".html",success:function(b){try{var c=$("<div />").html(b).find("#jpedal").attr("id","page"+a).css({position:"absolute"});$(f).append(c);setTimeout(function(){var b=function(){window["load"+a]()};setTimeout(b,1E3);b();if("file:"==window.location.protocol){var b=h("fonts"+a),c=document.createElement("style");c.setAttribute("type","text/css");c.innerHTML=
b.innerHTML;f.appendChild(c)}},1)}catch(d){r()}},error:r})}if(k)if(F)g=document.createElement("object"),g.setAttribute("width",""+b),g.setAttribute("height",""+x),g.setAttribute("data",Q+".svg"),g.setAttribute("type","image/svg+xml"),g.setAttribute("style","position: absolute; left: "+b+"px;"),f.appendChild(g),E();else{var q=function(){y||(l(),y=!0);var a=document.createElement("iframe");a.setAttribute("src",Q+".html");a.setAttribute("style","width: "+b+"px; height: "+x+"px; position: absolute; border: 0; left: "+
b+"px;");a.onload=function(){g=a};f.appendChild(a)};$.ajax({url:Q+".html",success:function(a){try{var c=$("<div />").html(a).find("#jpedal").attr("id","page"+Q).css({position:"absolute",left:b});$(f).append(c);setTimeout(function(){var a=function(){window["load"+Q]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+Q),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;f.appendChild(b)}},1)}catch(d){q()}},error:q})}};var l=function(){Z.currentSelectMode==
U?a.enablePanning():a.enableTextSelection()};a.enableTextSelection=function(){if(y||F)k(),c.style.visibility="hidden"};a.enablePanning=function(){if(y||F)"undefined"!=typeof d&&aa(d.contentWindow),"undefined"!=typeof g&&aa(g.contentWindow),k(),c.style.visibility="visible"};var k=function(){"undefined"==typeof c&&(c=document.createElement("div"),c.id="jpedalOverlay",c.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),m.insertBefore(c,m.firstChild))};
return a}(),Y=function(){var a={},b,c,e;a.setup=function(b){q=n.MultiFile;pa();window.onpopstate=function(b){a.goToPage(b.state.page,!1)};a.goToPage(b,!1)};a.goToPage=function(c,g){f.parentNode.removeChild(f);b=void 0;M.setPage(c);N.scrollToPage(d);v=t[d-1][0];x=t[d-1][1];m.style.width=v+"px";m.style.height=x+"px";r.scrollTop=0;A.selectedIndex=d-1;g&&window.history.pushState({page:d},null,"?page="+d);if(F)f=document.createElement("object"),f.setAttribute("width",""+v),f.setAttribute("height",""+x),
f.setAttribute("data",d+".svg"),f.setAttribute("type","image/svg+xml"),f.setAttribute("id","jpedal"),m.appendChild(f),b=f,C.applyTransformOrigin(f,"top left"),E();else{var k=function(){e||(Z.currentSelectMode==U?a.enablePanning():a.enableTextSelection(),e=!0);f=document.createElement("iframe");f.setAttribute("id","jpedal");f.setAttribute("src",d+".html");f.setAttribute("style","width: "+v+"px; height: "+x+"px; position: relative; border: 0;");f.onload=function(){b=f};m.appendChild(f);C.applyTransformOrigin(f,
"top left");E()};$.ajax({url:d+".html",success:function(a){try{var b=$("<div />").html(a).find("#jpedal").css({margin:"0",overflow:"hidden",position:"relative"});$(m).append(b);setTimeout(function(){f=h("jpedal");C.applyTransformOrigin(f,"top left");E();var a=function(){window["load"+d]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+d),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);h("jpedal").appendChild(b)}},
1)}catch(c){k()}},error:k})}};a.enableTextSelection=function(){if(e||F)g(),c.style.visibility="hidden"};a.enablePanning=function(){if(e||F)"undefined"!=typeof b&&aa(b.contentWindow),g(),c.style.visibility="visible"};var g=function(){"undefined"==typeof c&&(c=document.createElement("div"),c.id="jpedalOverlay",c.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),m.insertBefore(c,m.firstChild))};return a}(),X=function(){var a={},b=[],c=0,e,g,
y;a.setup=function(c){q=n.SingleFile;pa();e=[];window.onpopstate=function(b){a.goToPage(b.state.page,!1)};C.applyTransformOrigin(f,"top left");x=0;v=t[0][0];for(var d=0;d<p;d++){b[d]=!1;var h=document.createElement("div");h.id="page"+(d+1);h.setAttribute("style","position:relative; width:990px; height:1185px; overflow: hidden; background-color: white; margin: 0 auto 10px;");f.appendChild(h);x+=t[d][1]+10}m.style.height=x+"px";r.onscroll=l;a.goToPage(c,!1)};var l=function(a){var e=window.pageYOffset;
c=e;setTimeout(function(){if(e==c){if(0<h("page1").getBoundingClientRect().top)M.setPage(1),A.selectedIndex=d-1;else for(var a=1;a<=p;a++){var g=h("page"+a).getBoundingClientRect(),f=g.top,g=g.bottom-g.top;if(f<=.25*g&&f>.5*-g){M.setPage(a);A.selectedIndex=d-1;break}}N.scrollToPage(d);for(a=1;a<=p;a++)b[a]||(g=h("page"+a),f=g.getBoundingClientRect().top,f<=g.clientHeight&&f>=-g.clientHeight&&k(a))}},250)};a.goToPage=function(a,c){r.scrollTop=r.scrollTop+h("page"+a).getBoundingClientRect().top-45;
b[a]||k(a)};var k=function(c){b[c]=!0;if(F){var d=document.createElement("object");d.setAttribute("width",""+t[c-1][0]);d.setAttribute("height",""+t[c-1][1]);d.setAttribute("data",c+".svg");d.setAttribute("type","image/svg+xml");e[c-1]=d;h("page"+c).appendChild(d)}else{var f=function(){g||(Z.currentSelectMode==U?a.enablePanning():a.enableTextSelection(),g=!0);var b=document.createElement("iframe");b.setAttribute("src",c+".html");b.setAttribute("style","width: "+t[c-1][0]+"px; height: "+t[c-1][1]+
"px; position: relative; border: 0;");e[c-1]=b;h("page"+c).appendChild(b)};$.ajax({url:c+".html",success:function(a){try{var b=$("<div />").html(a).find("#jpedal").html();$("#page"+c).html(b);setTimeout(function(){var a=function(){window["load"+c]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+c),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);h("jpedal").appendChild(b)}},1)}catch(d){f()}},error:f})}};
a.enableTextSelection=function(){if(g||F)u(),y.style.visibility="hidden"};a.enablePanning=function(){if(g||F){for(var a=0;a<e.length;a++)"undefined"!=typeof e[a]&&aa(e[a].contentWindow);u();y.style.visibility="visible"}};var u=function(){"undefined"==typeof y&&(y=document.createElement("div"),y.id="jpedalOverlay",y.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),m.insertBefore(y,m.firstChild))};return a}(),O=function(){var a={},b=[],c=
[],e=[],g,f,q,k=0,u=0,v,w,x=0,B,D,E,G,z,N=!1;a.next=function(){this.goToPage(z?d+2:d+1,!0,!0)};a.prev=function(){this.goToPage(d-1,!0,!0)};a.setup=function(c){var d;m.removeAttribute("style");m.style.overflow="visible";m.style.padding="0";m.style.margin="0";m.style.webkitBackfaceVisibility="hidden";m.style.webkitPerspective="1000";N||(r.addEventListener("touchstart",ka),r.addEventListener("touchmove",la),r.addEventListener("touchend",ma),N=!0);z=window.innerWidth>window.innerHeight;M.setViewMode(n.IDR,
z?"landscape":"portrait");ia||(z=!1);z?Aa():pa();for(d=1;d<=p;d++)b[d]=!1;window.onpopstate=function(b){b.state&&a.goToPage(b.state.page,b.state.slide,!1)};setTimeout(function(){a.goToPage(c,!1,!1)},0)};var L=!1,H=!1,ga,S,K=!1,ea,T,U,V,W,O,P,X,Y,Z,aa,R,I,J,ba,ca,da,ka=function(a){B=L=!1;1!==a.touches.length||K||1!==l||(S=a.touches[0].clientX,T=a.touches[0].clientX,U=a.touches[0].clientY,V=T,W=U,L=!0,ea=Date.now());ba&&(ca=!0);1===a.touches.length&&1<l&&(D=a.touches[0].clientX,E=a.touches[0].clientY,
G=!0,O=u,P=k,X=O,Y=P,Z=Date.now(),aa=Date.now(),R||(R=setInterval(function(){O=X;P=Y;X=u;Y=k;aa=Z;Z=Date.now()},200)));if(2===a.touches.length&&!H){B=!0;G=!1;qa(d);var b=a.touches[0].clientX-g,c=a.touches[1].clientX-g,e=a.touches[0].clientY;a=a.touches[1].clientY;q=Math.sqrt(Math.pow(Math.abs(b-c),2)+Math.pow(Math.abs(e-a),2));v=b-(b-c)/2;w=e-(e-a)/2}},la=function(a){a.preventDefault();a.stopPropagation();if(1===a.touches.length&&L&&1===l){H=!0;var b=S-a.touches[0].clientX;0!==b&&(S=a.touches[0].clientX,
V=a.touches[0].clientX,W=a.touches[0].clientY,ga-=b,C.applyTransform(m,"translate3d("+ga+"px, 0, 0)"))}else if(1===a.touches.length&&G){da=!0;b=a.touches[0].clientX;a=a.touches[0].clientY;var c=a-E;u+=b-D;k+=c;D=b;E=a;fa();requestAnimationFrame(function(){na(u,k,l,!0)},h("main"))}else if(2===a.touches.length&&!K&&a.cancelable&&B&&!H&&(x=(x+1)%2,1!==x)){var d=a.touches[0].clientX-g,e=a.touches[1].clientX-g,c=a.touches[0].clientY,f=a.touches[1].clientY;a=Math.sqrt(Math.pow(Math.abs(d-e),2)+Math.pow(Math.abs(c-
f),2));b=a/q;1>l*b&&(l=b=1);4<l*b&&(b=1);l*=b;d-=(d-e)/2;c-=(c-f)/2;u=u+d-v;k=k+c-w;e=-u+d;u-=e*b-e;e=-k+c;k-=e*b-e;fa();v=d;w=c;requestAnimationFrame(function(){na(u,k,l,!0)},h("main"));q=a}},ma=function(b){var c;if(0===b.touches.length){if(H){var e=H=!1;300>Date.now()-ea&&(b=T-V,c=U-W,100<Math.abs(b)&&Math.abs(b)>.25*Math.abs(c)&&(e=!0,0<b?a.next():a.prev()));e||(b=-window.innerWidth*(d-1),z&&(b=-window.innerWidth*Math.floor(d/2)),ga>b+window.innerWidth/2?a.prev():ga<b-window.innerWidth/2?a.next():
a.goToPage(d,!0,!1))}clearInterval(R);R=null;da&&(da=!1,e=Date.now()-aa,b=O-u,c=P-k,I=b/(e/16),J=c/(e/16),.5>Math.abs(I)&&(I=0),.5>Math.abs(J)&&(J=0),0===I&&0===J||window.requestAnimationFrame(ja,h("main")))}},ja=function(){ba=!0;!ca&&(-.5>I||.5<I||-.5>J||.5<J)?(u-=I,k-=J,I*=.95,J*=.95,fa(),na(u,k,l,!0),window.requestAnimationFrame(ja,h("main"))):ca=ba=!1},fa=function(){0<u&&(I=u=0);0<k&&(J=k=0);var a=t[d-1][0]*e[d];z&&(a*=2);var b=a*l;u<a-b&&(u=a-b,I=0);a=t[d-1][1]*e[d];b=a*l;k<a-b&&(k=a-b,J=0)},
na=function(a,b,f,g){a=Math.round(2*a)/2;b=Math.round(2*b)/2;a=g?"translate3d("+(a+c[d])+"px, "+b+"px, 0) scale("+f*e[d]+")":"translateX("+(a+c[d])+"px) translateY("+b+"px) scale("+f*e[d]+")";b=h("page"+d);C.applyTransform(b,a)},ha=function(a){if(!b[a]){var d=document.createElement("div");d.setAttribute("id","page"+a);d.style.width=z&&1!=a&&(a<p||1===p%2)?2*t[a][0]+"px":t[a-1][0]+"px";d.style.height=t[a-1][1]+"px";qa(a);c[a]=z&&1!=a?window.innerWidth*Math.floor(a/2)+g:window.innerWidth*(a-1)+g;C.applyTransform(d,
"translate3d("+c[a]+"px, 0, 0) scale("+e[a]+")");C.applyTransformOrigin(d,"top left");d.style.marginTop=f+"px";d.style.position="absolute";m.appendChild(d)}b[a]||(F?(b[a]=!0,d=document.createElement("div"),d.setAttribute("style","position: absolute"),h("page"+a).appendChild(d),$(d).load(a+".svg")):$.ajax({url:a+".html",success:function(c){b[a]||(b[a]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),$("#page"+a).append(c),setTimeout(function(){var b=function(){window["load"+a]()};
setTimeout(b,1E3);b()},1))}}));z&&1!=a&&!b[a+1]&&a!=p&&(F?(b[a+1]=!0,d=document.createElement("div"),d.setAttribute("style","position: absolute; left: "+t[a][0]+"px"),h("page"+a).appendChild(d),$(d).load(a+1+".svg")):$.ajax({url:a+1+".html",success:function(c){b[a+1]||(b[a+1]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),(a<p||1===p%2)&&c.css("left",t[a][0]),$("#page"+a).append(c),setTimeout(function(){var b=function(){window["load"+(a+1)]()};setTimeout(b,1E3);b()},1))}}))},
qa=function(a){var b;b=z&&1!=a&&(a<p||1===p%2)?(window.innerWidth-20)/(2*t[a][0]):(window.innerWidth-20)/t[a-1][0];var c=(window.innerHeight-40-20)/t[a-1][1];b<c?(e[a]=b,g=10):(e[a]=c,g=(window.innerWidth-20-(z&&1!=a&&(a<p||1===p%2)?2*t[a][0]*e[a]:t[a-1][0]*e[a]))/2+10);return f=(window.innerHeight-40-t[a-1][1]*e[a])/2};a.goToPage=function(c,e,f){if(1<l)l=1,requestAnimationFrame(function(){na(0,0,l,!0);a.goToPage(c,e,f)},h("main"));else{K=!0;z&&1!==c&&1===c%2&&--c;1>c&&(c=1);c>p&&(c=p);qa(c);b[c]||
ha(c);ga=z?-(window.innerWidth*Math.floor(c/2)):-(window.innerWidth*(c-1));e&&C.applyTransitionDuration(m,"200ms");C.applyTransform(m,"translate3d("+ga+"px, 0, 0)");z&&1!==c&&1===c%2&&--c;M.setPage(c);f&&window.history.pushState({page:d,slide:e},null,"?page="+d);A.selectedIndex=z?Math.floor(d/2):d-1;var g=function(){var a;K=!1;a=c;z&&1===a&&(a=0);var e=a-1,f=a+1;z&&(--e,f+=1,2===a&&(e=1));1<=e&&!b[e]&&ha(e);f<=p&&!b[f]&&ha(f);C.applyTransitionDuration(m,"");m.removeEventListener("transitionend",g,
!1);m.removeEventListener("webkitTransitionEnd",g,!1);if(z)for(e=2;e<=p;e+=2)b[e]&&(e<d-2||e>d+2)&&(b[e]=!1,a=h("page"+e),a.parentNode.removeChild(a),e<p&&(b[e+1]=!1));else for(e=1;e<=p;e++)b[e]&&(e<d-1||e>d+1)&&(b[e]=!1,a=h("page"+e),a.parentNode.removeChild(a))};e?(m.addEventListener("transitionend",g,!1),m.addEventListener("webkitTransitionEnd",g,!1)):g()}};return a}();w.setBookmarks=N.setBookmarks;w.setDefaultViewMode=function(a){if(a===n.MultiFile||a===n.SplitSpreads||a===n.SingleFile)H=a};var Ba=
function(a){for(var b=document.URL,c=b.toString().indexOf("?"),b=-1!=c?b.substr(c+1).split("&"):"",c=0;c<b.length;c++)if(b[c]=b[c].split("="),b[c][0]==a)return b[c][1];return""};w.toggleOutlines=N.toggleOutlines;var aa=function(a){a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():a.document.selection&&a.document.selection.empty()},Z=function(){var a={},b,c,d=!1,f=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),
f=!!window.chrome&&!f;"undefined"!==typeof InstallTrigger?(V="-moz-grab",la="-moz-grabbing"):f?(V="-webkit-grab",la="-webkit-grabbing"):la=V="all-scroll";a.currentSelectMode=T;a.enableTextSelection=function(){this.currentSelectMode=T;ea.className="inactive navBtn";K.className="navBtn";r.style.cursor="";var a=function(a){};r.onmousedown=a;document.onmouseup=a;r.onmousemove=a;q===n.MultiFile?Y.enableTextSelection():q===n.SplitSpreads?P.enableTextSelection():q===n.SingleFile&&X.enableTextSelection()};
a.enablePanning=function(){this.currentSelectMode=U;ea.className="navBtn";K.className="inactive navBtn";aa(window);r.style.cursor=V;r.onmousedown=function(a){a=a||window.event;r.style.cursor=la;b=a.clientX;c=a.clientY;d=!0;return!1};document.onmouseup=function(a){r.style.cursor=V;d=!1};r.onmousemove=function(a){if(d)return a=a||window.event,r.scrollLeft=r.scrollLeft+b-a.clientX,r.scrollTop=r.scrollTop+c-a.clientY,b=a.clientX,c=a.clientY,!1};q===n.MultiFile?Y.enablePanning():q===n.SplitSpreads?P.enablePanning():
q===n.SingleFile&&X.enablePanning()};return a}();w.setSelectMode=function(a){ba||(a==T?Z.enableTextSelection():Z.enablePanning())};var Da=function(){var a=0;self.innerHeight?a=self.innerWidth:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientWidth:document.body&&(a=document.body.clientWidth);return a},ha=function(){var a=r.scrollTop,b=m.offsetHeight;B===L&&(D.selectedIndex=L);4<l?l=4:.25>l&&(l=.25);"undefinded"!==typeof isIE&&isIE&&(f.style.zoom=l);C.applyTransform(f,
"translateX(0px) translateY(0px) scale("+l+")");m.style.width=v*l+"px";m.style.height=x*l+"px";var c=Math.floor(100*l);ba||(D.options[0].innerHTML=c+"%");q==n.SingleFile&&(f.style.width=Math.floor(100/c*100)+"%");r.scrollTop=m.offsetHeight/b*a;ra++;1===ra%2&&E()};w.zoomIn=function(){B=L;l*=1.2;ha()};var Ca=function(){var a=G.selectedIndex;a!=q&&(M.setViewMode(a),q===n.SingleFile&&(r.onscroll=function(a){},D.style.display=""),q=n.IDR,m.innerHTML="",m.setAttribute("style",""),f=document.createElement("div"),
f.id="jpedal",m.appendChild(f),B=ka,D.selectedIndex=B,a===n.MultiFile?Y.setup(d):a===n.SplitSpreads?P.setup(d):a===n.SingleFile&&(D.style.display="none",X.setup(d),E()))};w.zoomUpdate=function(){B=D.selectedIndex;B!=L&&E()};var E=function(){var a,b,c,e,f,h=function(){a=r.clientWidth;q===n.SingleFile&&(v=R[d].width);l=(a-6)/v},m=function(){a=r.clientWidth;b=r.clientHeight;q==n.SingleFile&&(v=R[d].width,f=R[d].height);e=q!=n.SplitSpreads||1!==d&&d!==p?(a-6)/v:(a-6)/(2*v);c=(b-6)/x;q==n.SingleFile&&
(c=(b-6)/f);l=e>c?c:e};switch(B){case ka:var k=v;q!==n.SplitSpreads||1!==d&&d!==p||(k=2*v);k>x&&x>r.clientHeight?m():k>Da()&&ia?h():l=1;break;case va:h();break;case wa:b=r.clientHeight;c=(b-6)/x;q==n.SingleFile&&(f=R[d].height,c=(b-6)/f);l=c;break;case xa:m();break;case ua:l=1}ha()};w.zoomOut=function(){B=L;l/=1.2;ha()};w.goToPage=function(a){0===a&&(a=parseInt(A.options[A.selectedIndex].value));q===n.IDR?O.goToPage(a,!1,!0):q===n.SplitSpreads?P.goToPage(a,!0):q===n.MultiFile?Y.goToPage(a,!0):q===
n.SingleFile&&X.goToPage(a,!0)};w.next=function(){q===n.IDR?O.next():q===n.SplitSpreads?d+1<=p&&this.goToPage(d+2):d<p&&this.goToPage(d+1)};w.prev=function(){q===n.IDR?O.prev():1<d&&this.goToPage(d-1)};var W=function(a,b,c){if(b.addEventListener)b.addEventListener(a,c,!1);else if(b.attachEvent)return b.attachEvent("on"+a,c)},h=function(a){return document.getElementById(a)};w.toggleThumbnails=N.toggleThumbnails;var ma=function(){ca.className=document.fullscreenElement||document.msFullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement?"navBtn open":"navBtn closed"};w.toggleFullScreen=function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.body.requestFullscreen?
document.body.requestFullscreen():document.body.msRequestFullscreen?document.body.msRequestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen&&document.body.webkitRequestFullscreen()};w.addToolBarHyperlink=function(a,b){var c=new Image;c.src=a;var d=document.createElement("a");d.href=b;d.className="customNavLink";d.appendChild(c);d.setAttribute("target","_blank");h("mainNav").insertBefore(d,ta)};w.disableViewModeSwitching=function(){sa=
!0};w.on=function(a,b){"pagechange"===a?ya=b:"viewmodechange"===a&&(za=b)};M.setPage=function(a){if(a!=d){var b=ya;b&&b({page:a});d=a}};M.setViewMode=function(a,b){var c=za;if(c){var d={viewmode:a};""!=b&&(d.orientation=b);c(d)}};return w}();