var IDRViewer=function(){var w={View:{MultiFile:0,SplitSpreads:1,SingleFile:2,IDR:3}},f=1,r=0,B=0,d=0,p=0,La=0,g,k,n,h,z,N=[],I,O=!1,E=!1,P,oa,aa,A,Ma="index",V=!0,Na,J,m=w.View,pa=m.MultiFile,t,G,qa,ba,ca,ra,Ca,W,S,X,Y,H,L,sa,ta,ua,va,T,fa,M,ga,wa,C;w.makeNavBar=function(a,b,c,e,Sa,y,Ta,q,xa){P=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);oa=/iPhone|iPad|iPod/i.test(navigator.userAgent);aa=P&&window.requestAnimationFrame&&"undefined"===typeof InstallTrigger;
J=!xa;C=q;k=l("contentContainer");n=l("mainContent");I=l("left");p=a;d=b;r=c;B=e;h=Sa;l("pgCount").innerHTML="/"+p;k.style.width=r+"px";k.style.height=B+"px";t=l("goBtn");G=l("zoomBtn");qa=l("btnFullscreen");ba=l("btnOutlines");ca=l("btnThumbnails");ra=l("btnPrev");Ca=l("btnNext");W=l("btnMove");S=l("btnSelect");X=l("btnZoomIn");Y=l("btnZoomOut");fa=0;M=1;L=0;sa=1;ta=2;ua=3;va=4;A=T=5;if(h===m.IDR)g=l("jpedal");else if(h===m.MultiFile)g=l("jpedal"),ha();else if(h===m.SplitSpreads)g=l("container"+
b),Da();else if(h===m.SingleFile)for(g=l("jpedal"),1<a&&scrollEv(null),ha(),a=1;a<=p;a++)aa?l("page"+a).style.margin="0 0 10px":l("page"+a).style.margin=a!==p?"0 auto 10px":"0 auto",c=l("page"+a),c.clientWidth!=r&&(V=!1),N[a]={width:c.clientWidth,height:c.clientHeight};ya.setup(b,y,Ta);document.fullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled?(ia("fullscreenchange",document,za),ia("MSFullscreenChange",document,za),ia("mozfullscreenchange",
document,za),ia("webkitfullscreenchange",document,za)):qa.parentNode.removeChild(qa);b="pan"===ea("mode")?M:fa;this.setSelectMode(b);P&&(G.parentNode.removeChild(G),W.parentNode.removeChild(W),S.parentNode.removeChild(S));if(P||h!==m.IDR)if(h===m.IDR){X.parentNode.removeChild(X);Y.parentNode.removeChild(Y);n.style.overflow="hidden";ja.setup(q);var Oa=window.innerWidth,Pa=window.innerHeight;b=function(){setTimeout(function(){if(Oa!==window.innerWidth||Pa!==window.innerHeight)k.innerHTML="",f=1,Oa=
window.innerWidth,Pa=window.innerHeight,ja.setup(q)},300)};window.onorientationchange=b;window.onresize=b}else{aa||(b=ea("zoom"),y=parseFloat(b),"width"==b?A=ta:"height"==b?A=ua:"page"==b?A=va:"actual"==b?A=sa:!isNaN(y)&&0<y?(A=L,f=y):A=T,G.selectedIndex=A,x(),V||(G.remove(5),G.remove(4),G.remove(3),G.remove(2),n.scrollLeft=(k.offsetWidth-n.offsetWidth)/2),window.onresize=x);1===d&&(ra.className="inactive navBtn");if(d===p||h===m.SplitSpreads&&1===p%2&&d+1===p)Ca.className="inactive navBtn";F.applyTransformOrigin(g,
"top left");g.style.margin="0";aa&&Qa.setupTouchEvents()}else{for(a=0;a<p;a++)if(q[a][0]!=q[0][0]||q[a][1]!=q[0][1]){V=!1;break}V&&!Na&&(H=document.createElement("select"),H.id="viewBtn",b=document.createElement("option"),b.text="Multi File",H.appendChild(b),b=document.createElement("option"),b.text="Split Spreads",H.appendChild(b),b=document.createElement("option"),b.text="Single File",H.appendChild(b),H.onchange=Ua,l("mainNav").appendChild(H),H.selectedIndex=pa);b=ea("page");""!=b&&(d=parseInt(b));
V&&pa===m.SplitSpreads?(Da(),ka.setup()):V&&pa===m.SingleFile?(ha(),la.setup()):(ha(),ma.setup());A=T;G.selectedIndex=A;window.onresize=x}};var ya=function(){var a={},b=[],c=0,e,g;a.setup=function(a,c,d){e=document.getElementById("leftContent");g=d;y(c);for(c=0;c<p;c++)b[c]=!1;a=l("thumb"+a);a.className="thumbnail currentPageThumbnail";e.scrollTop=a.getBoundingClientRect().top-80;E=O=!1;"thumbnails"===ea("sidebar")?(O=!0,E=!1):"outlines"===ea("sidebar")&&(E=O=!0,ca.className="navBtn");O&&(F.applyTransitionDuration(I,
"0ms"),I.style.width="200px",I.style.left="0",I.offsetLeft,F.applyTransitionDuration(I,"200ms"),q(-1));E&&(l("thumbnailPanel").style.display="none",l("outlinePanel").style.display="inline");ia("scroll",e,f);a=document.createElement("script");a.setAttribute("src","bookmarks/bookmarks.js");a.setAttribute("onload","IDRViewer.setBookmarks(bookmarks);");a.onreadystatechange=function(){"complete"==this.readyState&&IDRViewer.setBookmarks(bookmarks)};(document.head||document.getElementsByTagName("head")[0]).appendChild(a)};
a.toggleThumbnails=function(){O?(I.style.width="0",I.style.left="-20px"):(q(-1),I.style.width="200px",I.style.left="0",f());O=!O};a.toggleOutlines=function(a){E&&!a?(l("thumbnailPanel").style.display="inline",l("outlinePanel").style.display="none",e.scrollTop=l("thumb"+d).getBoundingClientRect().top-80,E=!E,ca.className="inactive navBtn",ba.className="navBtn"):a&&"inactive navBtn"!=ba.className&&(l("thumbnailPanel").style.display="none",l("outlinePanel").style.display="inline",E=!E,ca.className="navBtn",
ba.className="inactive navBtn")};var y=function(a){for(var b,c=0,d=0,g=1;g<=p;g++){0>a[d]&&0>=c?(c=Math.abs(a[d])-1,d++):0<c?c--:(b=a[d],d++);var f=document.createElement("a");f.style.height=b+"px";f.className="thumbnail";h==m.IDR&&(f.href="?page="+g);f.id="thumb"+g;f.setAttribute("onclick","IDRViewer.goToPage("+g+"); return false;");f.setAttribute("title","Page "+g);f.innerHTML='<img src="assets/loading.gif"/>';e.children[0].appendChild(f)}},f=function(a){var b=e.scrollTop;c=b;setTimeout(function(){q(b)},
500)},q=function(a){if(a==c||-1==a)for(a=0;a<p;a++)if(!b[a]){var d=e.children[0].children[a];if(d.offsetTop>e.scrollTop+e.clientHeight)break;d.offsetTop+d.clientHeight>e.scrollTop&&(d=a,b[d]||(e.children[0].children[d].children[0].setAttribute("src","thumbnails/"+(d+1)+g),b[d]=!0))}};a.scrollToPage=function(a){a=l("thumb"+a);if("thumbnail currentPageThumbnail"!=a.className){for(var b=1;b<=p;b++)l("thumb"+b).className="thumbnail";a.className="thumbnail currentPageThumbnail";e.scrollTop=e.scrollTop+
a.getBoundingClientRect().top-80}};return a}(),Da=function(){t.style.width="65px";t.innerHTML="";var a=document.createElement("option");a.value=1;a.innerHTML="1";t.appendChild(a);for(var b,c=2;c<=p;c+=2)a=document.createElement("option"),a.value=c,b=c!==p||1===p%2?String(c+"-"+(c+1)):String(c),a.innerHTML=b,t.appendChild(a);t.selectedIndex=d/2},ha=function(){t.innerHTML="";for(var a=1;a<=p;a++){var b=document.createElement("option");b.value=a;b.innerHTML=String(a);t.appendChild(b)}t.selectedIndex=
d-1},F={applyTransform:function(a,b){a.style.webkitTransform=b;a.style.mozTransform=b;a.style.msTransform=b;a.style.oTransform=b;a.style.transform=b},applyTransformOrigin:function(a,b){a.style.webkitTransformOrigin=b;a.style.mozTransformOrigin=b;a.style.msTransformOrigin=b;a.style.oTransformOrigin=b;a.style.transformOrigin=b},applyTransitionDuration:function(a,b){a.style.webkitTransitionDuration=b;a.style.mozTransitionDuration=b;a.style.msTransitionDuration=b;a.style.oTransitionDuration=b;a.style.transitionDuration=
b}},ka=function(){var a={},b,c,e,f,y;a.setup=function(){z=h;h=m.SplitSpreads;r=C[0][0];B=C[0][1];b=r;window.onpopstate=function(b){a.goToPage(b.state.page,!1)};a.goToPage(d,!1)};a.goToPage=function(a,c){g.parentNode.removeChild(g);f=e=void 0;d=a;1!==d&&0!==d%2&&--d;r=b;1<d&&d<p&&(r*=2);k.style.width=r+"px";var m="container"+d;t.selectedIndex=d/2;c&&window.history.pushState({page:d},null,"?page="+d);g=document.createElement("div");g.id=m;g.style.width=r+"px";k.appendChild(g);F.applyTransformOrigin(g,
"top left");g.style.margin="0";x();if(J)e=document.createElement("object"),e.setAttribute("width",""+b),e.setAttribute("height",""+B),e.setAttribute("data",d+".svg"),e.setAttribute("type","image/svg+xml"),g.appendChild(e),x();else{var q=function(){y||(n(),y=!0);var a=document.createElement("iframe");a.setAttribute("src",d+".html");a.setAttribute("style","width: "+b+"px; height: "+B+"px; position: absolute; border: 0;");a.onload=function(){e=a};g.appendChild(a)};$.ajax({url:d+".html",success:function(a){try{var b=
$("<div />").html(a).find("#jpedal").attr("id","page"+d).css({position:"absolute"});$(g).append(b);setTimeout(function(){var a=function(){window["load"+d]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=l("fonts"+d),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;g.appendChild(b)}},1)}catch(c){q()}},error:q})}if(1!=d&&d!=p)if(J)f=document.createElement("object"),f.setAttribute("width",""+b),f.setAttribute("height",""+B),f.setAttribute("data",
d+1+".svg"),f.setAttribute("type","image/svg+xml"),f.setAttribute("style","position: absolute; left: "+b+"px;"),g.appendChild(f),x();else{var h=function(){y||(n(),y=!0);var a=document.createElement("iframe");a.setAttribute("src",d+1+".html");a.setAttribute("style","width: "+b+"px; height: "+B+"px; position: absolute; border: 0; left: "+b+"px;");a.onload=function(){f=a};g.appendChild(a)};$.ajax({url:d+1+".html",success:function(a){try{var c=$("<div />").html(a).find("#jpedal").attr("id","page"+(d+
1)).css({position:"absolute",left:b});$(g).append(c);setTimeout(function(){var a=function(){window["load"+(d+1)]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=l("fonts"+(d+1)),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;g.appendChild(b)}},1)}catch(e){h()}},error:h})}};var n=function(){Q.currentSelectMode==M?a.enablePanning():a.enableTextSelection()};a.enableTextSelection=function(){if(y||J)q(),c.style.visibility="hidden"};a.enablePanning=
function(){if(y||J)"undefined"!=typeof e&&na(e.contentWindow),"undefined"!=typeof f&&na(f.contentWindow),q(),c.style.visibility="visible"};var q=function(){"undefined"==typeof c&&(c=document.createElement("div"),c.id="jpedalOverlay",c.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),k.insertBefore(c,k.firstChild))};return a}(),ma=function(){var a={},b,c,e;a.setup=function(){z=h;h=m.MultiFile;window.onpopstate=function(b){a.goToPage(b.state.page,
!1)};a.goToPage(d,!1)};a.goToPage=function(c,f){g.parentNode.removeChild(g);b=void 0;d=c;r=C[d-1][0];B=C[d-1][1];k.style.width=r+"px";k.style.height=B+"px";n.scrollTop=0;t.selectedIndex=d-1;f&&window.history.pushState({page:d},null,"?page="+d);if(J)g=document.createElement("object"),g.setAttribute("width",""+r),g.setAttribute("height",""+B),g.setAttribute("data",d+".svg"),g.setAttribute("type","image/svg+xml"),g.setAttribute("id","jpedal"),k.appendChild(g),b=g,F.applyTransformOrigin(g,"top left"),
x();else{var m=function(){e||(Q.currentSelectMode==M?a.enablePanning():a.enableTextSelection(),e=!0);g=document.createElement("iframe");g.setAttribute("id","jpedal");g.setAttribute("src",d+".html");g.setAttribute("style","width: "+r+"px; height: "+B+"px; position: relative; border: 0;");g.onload=function(){b=g};k.appendChild(g);F.applyTransformOrigin(g,"top left");x()};$.ajax({url:d+".html",success:function(a){try{var b=$("<div />").html(a).find("#jpedal").css({margin:"0",overflow:"hidden",position:"relative"});
$(k).append(b);setTimeout(function(){g=l("jpedal");F.applyTransformOrigin(g,"top left");x();var a=function(){window["load"+d]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=l("fonts"+d),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);l("jpedal").appendChild(b)}},1)}catch(c){m()}},error:m})}};a.enableTextSelection=function(){if(e||J)f(),c.style.visibility="hidden"};a.enablePanning=function(){if(e||J)"undefined"!=
typeof b&&na(b.contentWindow),f(),c.style.visibility="visible"};var f=function(){"undefined"==typeof c&&(c=document.createElement("div"),c.id="jpedalOverlay",c.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),k.insertBefore(c,k.firstChild))};return a}(),la=function(){var a={},b=[],c=0,e,f,y;a.setup=function(){z=h;h=m.SingleFile;e=[];window.onpopstate=function(b){a.goToPage(b.state.page,!1)};F.applyTransformOrigin(g,"top left");B=0;r=C[0][0];
for(var c=0;c<p;c++){b[c]=!1;var f=document.createElement("div");f.id="page"+(c+1);f.setAttribute("style","position:relative; width:990px; height:1185px; overflow: hidden; background-color: white; margin: 0 auto 10px;");g.appendChild(f);B+=C[c][1]+10}k.style.height=B+"px";n.onscroll=w;a.goToPage(d,!1)};var w=function(a){var d=window.pageYOffset;c=d;setTimeout(function(){if(d==c){IDRViewer.updateCurrentPage();for(var a=1;a<=p;a++)if(!b[a]){var f=document.getElementById("page"+a),e=f.getBoundingClientRect().top;
e<=f.clientHeight&&e>=-f.clientHeight&&q(a)}}},250)};a.goToPage=function(a,c){n.scrollTop=n.scrollTop+l("page"+a).getBoundingClientRect().top-45;b[a]||q(a)};var q=function(c){b[c]=!0;if(J){var d=document.createElement("object");d.setAttribute("width",""+C[c-1][0]);d.setAttribute("height",""+C[c-1][1]);d.setAttribute("data",c+".svg");d.setAttribute("type","image/svg+xml");e[c-1]=d;l("page"+c).appendChild(d)}else{var g=function(){f||(Q.currentSelectMode==M?a.enablePanning():a.enableTextSelection(),
f=!0);var b=document.createElement("iframe");b.setAttribute("src",c+".html");b.setAttribute("style","width: "+C[c-1][0]+"px; height: "+C[c-1][1]+"px; position: relative; border: 0;");e[c-1]=b;l("page"+c).appendChild(b)};$.ajax({url:c+".html",success:function(a){try{var b=$("<div />").html(a).find("#jpedal").html();$("#page"+c).html(b);setTimeout(function(){var a=function(){window["load"+c]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=l("fonts"+c),b=document.createElement("style");
b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);l("jpedal").appendChild(b)}},1)}catch(d){g()}},error:g})}};a.enableTextSelection=function(){if(f||J)xa(),y.style.visibility="hidden"};a.enablePanning=function(){if(f||J){for(var a=0;a<e.length;a++)"undefined"!=typeof e[a]&&na(e[a].contentWindow);xa();y.style.visibility="visible"}};var xa=function(){"undefined"==typeof y&&(y=document.createElement("div"),y.id="jpedalOverlay",y.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),
k.insertBefore(y,k.firstChild))};return a}(),ja=function(){var a={},b=[],c=[],e=[],g,y,m,q=0,h=0,w,B,A=0,I,E,Ea,Fa,D,G=!1;a.next=function(){this.goToPage(D?d+2:d+1,!0,!0)};a.prev=function(){this.goToPage(d-1,!0,!0)};a.setup=function(){var c;k.removeAttribute("style");k.style.overflow="visible";k.style.padding="0";k.style.margin="0";k.style.webkitBackfaceVisibility="hidden";k.style.webkitPerspective="1000";G||(n.addEventListener("touchstart",aa),n.addEventListener("touchmove",ba),n.addEventListener("touchend",
ca),G=!0);D=window.innerWidth>window.innerHeight;V||(D=!1);D?Da():ha();c=ea("page");""!=c&&(d=parseInt(c));for(c=1;c<=p;c++)b[c]=!1;window.onpopstate=function(b){b.state&&a.goToPage(b.state.page,b.state.slide,!1)};setTimeout(function(){a.goToPage(d,!1,!1)},0)};var x=!1,z=!1,da,O,H=!1,L,M,Ga,U,R,K,Aa,P,Z,Q,Ha,Ba,u,v,Ia,Ja,N,aa=function(a){I=x=!1;1!==a.touches.length||H||1!==f||(O=a.touches[0].clientX,M=a.touches[0].clientX,Ga=a.touches[0].clientY,U=M,R=Ga,x=!0,L=Date.now());Ia&&(Ja=!0);1===a.touches.length&&
1<f&&(E=a.touches[0].clientX,Ea=a.touches[0].clientY,Fa=!0,K=h,Aa=q,P=K,Z=Aa,Q=Date.now(),Ha=Date.now(),Ba||(Ba=setInterval(function(){K=P;Aa=Z;P=h;Z=q;Ha=Q;Q=Date.now()},200)));if(2===a.touches.length&&!z){I=!0;Fa=!1;T(d);var b=a.touches[0].clientX-g,c=a.touches[1].clientX-g,e=a.touches[0].clientY;a=a.touches[1].clientY;m=Math.sqrt(Math.pow(Math.abs(b-c),2)+Math.pow(Math.abs(e-a),2));w=b-(b-c)/2;B=e-(e-a)/2}},ba=function(a){a.preventDefault();a.stopPropagation();if(1===a.touches.length&&x&&1===f){z=
!0;var b=O-a.touches[0].clientX;0!==b&&(O=a.touches[0].clientX,U=a.touches[0].clientX,R=a.touches[0].clientY,da-=b,F.applyTransform(k,"translate3d("+da+"px, 0, 0)"))}else if(1===a.touches.length&&Fa){N=!0;b=a.touches[0].clientX;a=a.touches[0].clientY;var c=a-Ea;h+=b-E;q+=c;E=b;Ea=a;S();requestAnimationFrame(function(){X(h,q,f,!0)},l("main"))}else if(2===a.touches.length&&!H&&a.cancelable&&I&&!z&&(A=(A+1)%2,1!==A)){var d=a.touches[0].clientX-g,e=a.touches[1].clientX-g,c=a.touches[0].clientY,y=a.touches[1].clientY;
a=Math.sqrt(Math.pow(Math.abs(d-e),2)+Math.pow(Math.abs(c-y),2));b=a/m;1>f*b&&(f=b=1);4<f*b&&(b=1);f*=b;d-=(d-e)/2;c-=(c-y)/2;h=h+d-w;q=q+c-B;e=-h+d;h-=e*b-e;e=-q+c;q-=e*b-e;S();w=d;B=c;requestAnimationFrame(function(){X(h,q,f,!0)},l("main"));m=a}},ca=function(b){var c;if(0===b.touches.length){if(z){var e=z=!1;300>Date.now()-L&&(b=M-U,c=Ga-R,100<Math.abs(b)&&Math.abs(b)>.25*Math.abs(c)&&(e=!0,0<b?a.next():a.prev()));e||(b=-window.innerWidth*(d-1),D&&(b=-window.innerWidth*Math.floor(d/2)),da>b+window.innerWidth/
2?a.prev():da<b-window.innerWidth/2?a.next():a.goToPage(d,!0,!1))}clearInterval(Ba);Ba=null;N&&(N=!1,e=Date.now()-Ha,b=K-h,c=Aa-q,u=b/(e/16),v=c/(e/16),.5>Math.abs(u)&&(u=0),.5>Math.abs(v)&&(v=0),0===u&&0===v||window.requestAnimationFrame(W,l("main")))}},W=function(){Ia=!0;!Ja&&(-.5>u||.5<u||-.5>v||.5<v)?(h-=u,q-=v,u*=.95,v*=.95,S(),X(h,q,f,!0),window.requestAnimationFrame(W,l("main"))):Ja=Ia=!1},S=function(){0<h&&(u=h=0);0<q&&(v=q=0);var a=C[d-1][0]*e[d];D&&(a*=2);var b=a*f;h<a-b&&(h=a-b,u=0);a=
C[d-1][1]*e[d];b=a*f;q<a-b&&(q=a-b,v=0)},X=function(a,b,f,g){a=Math.round(2*a)/2;b=Math.round(2*b)/2;a=g?"translate3d("+(a+c[d])+"px, "+b+"px, 0) scale("+f*e[d]+")":"translateX("+(a+c[d])+"px) translateY("+b+"px) scale("+f*e[d]+")";b=l("page"+d);F.applyTransform(b,a)},Y=function(a){if(!b[a]){var d=document.createElement("div");d.setAttribute("id","page"+a);d.style.width=D&&1!=a&&(a<p||1===p%2)?2*r+"px":C[a-1][0]+"px";d.style.height=C[a-1][1]+"px";T(a);c[a]=D&&1!=a?window.innerWidth*Math.floor(a/2)+
g:window.innerWidth*(a-1)+g;F.applyTransform(d,"translate3d("+c[a]+"px, 0, 0) scale("+e[a]+")");F.applyTransformOrigin(d,"top left");d.style.marginTop=y+"px";d.style.position="absolute";k.appendChild(d)}b[a]||(J?(b[a]=!0,d=document.createElement("div"),d.setAttribute("style","position: absolute"),l("page"+a).appendChild(d),$(d).load(a+".svg")):$.ajax({url:a+".html",success:function(c){b[a]||(b[a]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),$("#page"+a).append(c),setTimeout(function(){var b=
function(){window["load"+a]()};setTimeout(b,1E3);b()},1))}}));D&&1!=a&&!b[a+1]&&a!=p&&(J?(b[a+1]=!0,d=document.createElement("div"),d.setAttribute("style","position: absolute; left: "+r+"px"),l("page"+a).appendChild(d),$(d).load(a+1+".svg")):$.ajax({url:a+1+".html",success:function(c){b[a+1]||(b[a+1]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),(a<p||1===p%2)&&c.css("left",r),$("#page"+a).append(c),setTimeout(function(){var b=function(){window["load"+(a+1)]()};setTimeout(b,
1E3);b()},1))}}))},T=function(a){var b;b=D&&1!=a&&(a<p||1===p%2)?(window.innerWidth-20)/(2*r):(window.innerWidth-20)/C[a-1][0];var c=(window.innerHeight-40-20)/C[a-1][1];b<c?(e[a]=b,g=10):(e[a]=c,g=(window.innerWidth-20-(D&&1!=a&&(a<p||1===p%2)?2*r*e[a]:C[a-1][0]*e[a]))/2+10);return y=(window.innerHeight-40-C[a-1][1]*e[a])/2};a.goToPage=function(c,e,g){if(1<f)f=1,requestAnimationFrame(function(){X(0,0,f,!0);a.goToPage(c,e,g)},l("main"));else{H=!0;D&&1!==c&&1===c%2&&--c;c>p&&(c=p);T(c);b[c]||Y(c);
da=D?-(window.innerWidth*Math.floor(c/2)):-(window.innerWidth*(c-1));e&&F.applyTransitionDuration(k,"200ms");F.applyTransform(k,"translate3d("+da+"px, 0, 0)");D&&1!==c&&1===c%2&&--c;d=c;g&&window.history.pushState({page:d,slide:e},null,"?page="+d);t.selectedIndex=D?Math.floor(d/2):d-1;var h=function(){var a;H=!1;a=c;D&&1===a&&(a=0);var e=a-1,f=a+1;D&&(--e,f+=1,2===a&&(e=1));1<=e&&!b[e]&&Y(e);f<=p&&!b[f]&&Y(f);F.applyTransitionDuration(k,"");k.removeEventListener("transitionend",h,!1);k.removeEventListener("webkitTransitionEnd",
h,!1);if(D)for(e=2;e<=p;e+=2)b[e]&&(e<d-2||e>d+2)&&(b[e]=!1,a=l("page"+e),a.parentNode.removeChild(a),e<p&&(b[e+1]=!1));else for(e=1;e<=p;e++)b[e]&&(e<d-1||e>d+1)&&(b[e]=!1,a=l("page"+e),a.parentNode.removeChild(a))};e?(k.addEventListener("transitionend",h,!1),k.addEventListener("webkitTransitionEnd",h,!1)):h()}};return a}();w.setBookmarks=function(a){l("leftContent").style.top="40px";l("leftNav").style.display="block";Ra(l("outlinePanel"),a);E?ca.className="navBtn":ba.className="navBtn"};var Ra=
function(a,b){for(var c=document.createElement("ul"),e=0;e<b.length;e++)(function(){var a=b[e],d=document.createElement("li");d.setAttribute("title","Page "+a.page);d.innerHTML=a.title;d.onclick=function(){IDRViewer.goToPage(parseInt(a.page))};c.appendChild(d);"undefined"!=typeof a.children&&Ra(c,a.children)})();a.appendChild(c)};w.setDefaultViewMode=function(a){if(a===m.MultiFile||a===m.SplitSpreads||a===m.SingleFile)pa=a};w.setFirstPageName=function(a){Ma=a};var ea=function(a){for(var b=document.URL,
c=b.toString().indexOf("?"),b=-1!=c?b.substr(c+1).split("&"):"",c=0;c<b.length;c++)if(b[c]=b[c].split("="),b[c][0]==a)return b[c][1];return""};w.toggleOutlines=ya.toggleOutlines;var na=function(a){a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():a.document.selection&&a.document.selection.empty()},Q=function(){var a={},b,c,d=!1,f=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),f=!!window.chrome&&!f;"undefined"!==
typeof InstallTrigger?(ga="-moz-grab",wa="-moz-grabbing"):f?(ga="-webkit-grab",wa="-webkit-grabbing"):wa=ga="all-scroll";a.currentSelectMode=fa;a.enableTextSelection=function(){this.currentSelectMode=fa;S.className="inactive navBtn";W.className="navBtn";n.style.cursor="";var a=function(a){};n.onmousedown=a;document.onmouseup=a;n.onmousemove=a;z===m.IDR&&(h===m.MultiFile?ma.enableTextSelection():h===m.SplitSpreads?ka.enableTextSelection():h===m.SingleFile&&la.enableTextSelection())};a.enablePanning=
function(){this.currentSelectMode=M;S.className="navBtn";W.className="inactive navBtn";na(window);n.style.cursor=ga;n.onmousedown=function(a){a=a||window.event;n.style.cursor=wa;b=a.clientX;c=a.clientY;d=!0;return!1};document.onmouseup=function(a){n.style.cursor=ga;d=!1};n.onmousemove=function(a){if(d)return a=a||window.event,n.scrollLeft=n.scrollLeft+b-a.clientX,n.scrollTop=n.scrollTop+c-a.clientY,b=a.clientX,c=a.clientY,!1};z===m.IDR&&(h===m.MultiFile?ma.enablePanning():h===m.SplitSpreads?ka.enablePanning():
h===m.SingleFile&&la.enablePanning())};return a}();w.setSelectMode=function(a){P||(a==fa?Q.enableTextSelection():Q.enablePanning())};var Va=function(){var a=0;self.innerHeight?a=self.innerWidth:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientWidth:document.body&&(a=document.body.clientWidth);return a},Ka=function(){var a=n.scrollTop,b=k.offsetHeight;A===L&&(G.selectedIndex=L);4<f?f=4:.25>f&&(f=.25);"undefinded"!==typeof isIE&&isIE&&(g.style.zoom=f);
F.applyTransform(g,"translateX(0px) translateY(0px) scale("+f+")");h===m.SingleFile&&z!==m.IDR&&scrollEv();k.style.width=r*f+"px";k.style.height=B*f+"px";var c=Math.floor(100*f);P||(G.options[0].innerHTML=c+"%");h==m.SingleFile&&(g.style.width=Math.floor(100/c*100)+"%");n.scrollTop=k.offsetHeight/b*a;La++;1===La%2&&x()};w.zoomIn=function(){A=L;f*=1.2;Ka()};var Ua=function(){var a=H.selectedIndex;a!=z&&(h===m.SingleFile&&(n.onscroll=function(a){}),h=m.IDR,k.innerHTML="",k.setAttribute("style",""),
g=document.createElement("div"),g.id="jpedal",k.appendChild(g),a===m.MultiFile?ma.setup():a===m.SplitSpreads?ka.setup():a===m.SingleFile&&(la.setup(),x()))};w.zoomUpdate=function(){A=G.selectedIndex;A!=L&&x()};var x=function(){var a,b,c,e,g,l=function(){a=n.clientWidth;h===m.SingleFile&&(r=N[d].width);f=(a-6)/r},k=function(){a=n.clientWidth;b=n.clientHeight;h==m.SingleFile&&(r=N[d].width,g=N[d].height);e=h!=m.SplitSpreads||1!==d&&d!==p?(a-6)/r:(a-6)/(2*r);c=(b-6)/B;h==m.SingleFile&&(c=(b-6)/g);f=
e>c?c:e};switch(A){case T:var q=r;h!==m.SplitSpreads||1!==d&&d!==p||(q=2*r);q>B&&B>n.clientHeight?k():q>Va()&&V?l():f=1;break;case ta:l();break;case ua:b=n.clientHeight;c=(b-6)/B;h==m.SingleFile&&(g=N[d].height,c=(b-6)/g);f=c;break;case va:k();break;case sa:f=1}Ka()};w.zoomOut=function(){A=L;f/=1.2;Ka()};w.goToPage=function(a){0===a&&(a=parseInt(t.options[t.selectedIndex].value));if(h===m.IDR)ja.goToPage(a,!1,!0);else if(z===m.IDR&&h===m.SplitSpreads)ka.goToPage(a,!0);else if(z===m.IDR&&h===m.MultiFile)ma.goToPage(a,
!0);else if(z===m.IDR&&h===m.SingleFile)la.goToPage(a,!0);else{var b;if(a!==d){var c=[];if(A!=T){var e;switch(A){case ta:e="width";break;case ua:e="height";break;case va:e="page";break;case L:e=f;break;case sa:e="actual"}c[c.length]="zoom="+e}O&&!E&&(c[c.length]="sidebar=thumbnails");O&&E&&(c[c.length]="sidebar=outlines");Q.currentSelectMode==M&&(c[c.length]="mode=pan");e="?";for(b=0;b<c.length;b++)0<b&&(e+="&"),e+=c[b];1==e.length&&(e="");h===m.MultiFile?(a=K(a,p),window.open(a+".html"+e,"_self")):
h==m.SplitSpreads?(c=p,a>c&&(a=c),a=1===a?K(a,c):0===a%2?a===c?K(a,c):K(a,c)+"-"+K(a+1,c):K(a-1,c)+"-"+K(a,c),window.open(a+".html"+e,"_self")):h==m.SingleFile&&(aa?Qa.singleFileGoToPage(a):(n.scrollTop=n.scrollTop+l("page"+a).getBoundingClientRect().top-45,w.updateCurrentPage()))}}};w.updateCurrentPage=function(){if(0<l("page1").getBoundingClientRect().top)d=1,t.selectedIndex=d-1;else for(var a=1;a<=p;a++){var b=l("page"+a).getBoundingClientRect(),c=b.top,b=b.bottom-b.top;if(c<=.25*b&&c>.5*-b){d=
a;t.selectedIndex=d-1;break}}ra.className=1===d?"inactive navBtn":"navBtn";Ca.className=d===p?"inactive navBtn":"navBtn";ya.scrollToPage(d)};var K=function(a,b){var c=a.toString(),d=b.toString().length-c.length;if(1===a)c=Ma;else for(var f=0;f<d;f++)c="0"+c;return c};w.next=function(){h===m.IDR?ja.next():h===m.SplitSpreads?d+1<p&&this.goToPage(d+2):d<p&&this.goToPage(d+1)};w.prev=function(){h===m.IDR?ja.prev():1<d&&this.goToPage(d-1)};var ia=function(a,b,c){if(b.addEventListener)b.addEventListener(a,
c,!1);else if(b.attachEvent)return b.attachEvent("on"+a,c)},l=function(a){return document.getElementById(a)};w.toggleThumbnails=ya.toggleThumbnails;var za=function(){qa.className=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?"navBtn open":"navBtn closed"};w.toggleFullScreen=function(){document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.exitFullscreen?
document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.body.requestFullscreen?document.body.requestFullscreen():document.body.msRequestFullscreen?document.body.msRequestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullscreen&&document.body.webkitRequestFullscreen()};w.addToolBarHyperlink=
function(a,b){var c=new Image;c.src=a;var d=document.createElement("a");d.href=b;d.className="customNavLink";d.appendChild(c);d.setAttribute("target","_blank");l("mainNav").insertBefore(d,ra)};w.disableViewModeSwitching=function(){Na=!0};var Qa=function(){var a={},b=0,c=0;a.setupTouchEvents=function(){X.parentNode.removeChild(X);Y.parentNode.removeChild(Y);k.style.width="100%";k.style.height="100%";k.style.padding="0";U=f=window.innerWidth/r;oa?setTimeout(function(){d(0,0,f,!1)},0):setTimeout(function(){d(0,
0,f,!0);g.style.webkitBackfaceVisibility="hidden"},0);var a,h,l,m,p,w,A=0,C,z=0,E,t,x,D,G,H,J,K,L,M,P,Q,N,U,R=function(a){return Math.round(2*a)/2},S=function(){G=!0;z++;if(!H&&(-.5>t||.5<t||-.5>x||.5<x))b-=t,c-=x,t*=.95,x*=.95,Z(),d(R(b),R(c),f,!0),window.requestAnimationFrame(S,g);else{G=!1;if(!H){var a=z;setTimeout(function(){z===a&&T()},200)}H=!1}},T=function(){E=!1;I.style.zIndex="5";g.style.webkitBackfaceVisibility="";requestAnimationFrame(function(){d(R(b),R(c),f,!1)},g);if(!oa){var a=z;setTimeout(function(){g.style.webkitBackfaceVisibility=
"hidden";z===a&&(d(R(b),R(c),f,!0),O&&(I.style.zIndex="10"))},200)}},V=function(a){clearInterval(N);N=null;z++;if(E){var d=z;setTimeout(function(){z===d&&T()},200)}if(D){D=!1;a=Date.now()-P;var e=K-c;t=(J-b)/(a/16);x=e/(a/16);.5>Math.abs(t)&&(t=0);.5>Math.abs(x)&&(x=0);0===t&&0===x||window.requestAnimationFrame(S,g)}},Z=function(){0<b&&(t=b=0);0<c&&(x=c=0);var a=r*f;b+a<window.innerWidth&&(b=a>window.innerWidth?window.innerWidth-a:0,t=0);a=B*f;40+c+a<window.innerHeight&&(c=a>window.innerHeight-40?
window.innerHeight-a-40:0,x=0)};n.addEventListener("touchstart",function(k){z++;G&&(H=!0);Date.now();if(2===k.touches.length){var n=k.touches[0].clientX,u=k.touches[1].clientX,v=k.touches[0].clientY,r=k.touches[1].clientY;m=Math.sqrt(Math.pow(Math.abs(n-u),2)+Math.pow(Math.abs(v-r),2));p=n-(n-u)/2;w=v-(v-r)/2}1==k.touches.length&&(n=(new Date).getTime(),a=a||n+1,u=n-a,v=Math.abs(h-k.touches[0].clientX),r=Math.abs(l-k.touches[0].clientY),500>u&&0<u&&50>v&&50>r?(n=f>U?U/f:2*U/f,v=window.innerWidth/
2,u=40+(window.innerHeight-40)/2,b+=v-h,c+=u-l,v=-b+v,b-=v*n-v,u=-c+u,c-=u*n-u,f*=n,Z(),F.applyTransitionDuration(g,"200ms"),d(b,c,f,!1),setTimeout(function(){F.applyTransitionDuration(g,"")},200),a=0):a=n,h=k.touches[0].clientX,l=k.touches[0].clientY,C=!0);J=b;K=c;L=J;M=K;Q=Date.now();P=Date.now();N||(N=setInterval(function(){J=L;K=M;L=b;M=c;P=Q;Q=Date.now()},200))});n.addEventListener("touchend",V);n.addEventListener("touchcancel",function(a){V(null)});n.addEventListener("touchmove",function(k){z++;
k.preventDefault();k.stopPropagation();a=0;D=!1;if(1===k.touches.length&&C){oa&&(E=!0);D=!0;var n=k.touches[0].clientX,u=k.touches[0].clientY,v=u-l;b+=n-h;c+=v;h=n;l=u;Z();requestAnimationFrame(function(){d(R(b),R(c),f,!0)},g)}if(2===k.touches.length&&(C=!1,A=(A+1)%2,1===A)){E=!0;var v=k.touches[0].clientX,t=k.touches[1].clientX,u=k.touches[0].clientY,x=k.touches[1].clientY;k=Math.sqrt(Math.pow(Math.abs(v-t),2)+Math.pow(Math.abs(u-x),2));n=k/m;1>n&&r*f*n<window.innerWidth&&(n=1,f=U);4<f*n&&(n=1);
f*=n;v-=(v-t)/2;u-=(u-x)/2;b=b+v-p;c=c+u-w;t=-b+v;b-=t*n-t;t=-c+u;c-=t*n-t;Z();p=v;w=u;requestAnimationFrame(function(){d(R(b),R(c),f,!0)},g);m=k}});window.onorientationchange=function(){setTimeout(function(){U=window.innerWidth/r;f<=U&&(f=U);Z();d(b,c,f,!1)},300)};var W=function(){var a={},b=!1,c,d;a.touchStart=function(a){1===a.touches.length?(c=a.touches[0].clientX,d=a.touches[0].clientY,b=!0):b=!1};a.touchMove=function(a){if(b){var e=c-a.touches[0].clientX;50<Math.abs(d-a.touches[0].clientY)?
b=!1:100<e&&(b=!1,IDRViewer.toggleThumbnails())}};return a}();I.addEventListener("touchstart",W.touchStart);I.addEventListener("touchmove",W.touchMove)};var d=function(a,b,c,d){F.applyTransform(g,d?"translate3d("+a+"px, "+b+"px, 0) scale("+c+")":"translateX("+a+"px) translateY("+b+"px) scale("+c+")");h===m.SingleFile&&scrollEv()};a.singleFileGoToPage=function(a){F.applyTransitionDuration(g,"200ms");c=c-l("page"+a).getBoundingClientRect().top+40;d(b,c,f,!1);setTimeout(function(){F.applyTransitionDuration(g,
"");w.updateCurrentPage()},200)};return a}();return w}();intLoaded?idrLoad():extLoaded=!0;